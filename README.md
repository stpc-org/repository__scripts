# STPC 脚本仓库

> 由 SCPT 开发


## 脚本开发规范

### 必要的

- 编组隔离和基于编组的识别, 现代脚本的最基础的要求
  - 无论何时脚本都不应该读写任何分配给它的编组以外的对象
    - 若不进行编组隔离, 请勿自作多情地认为你的脚本在任何情况下都能正确地识别其需要的对象
- 在 CD 中进行脚本配置, 脚本启动时读取 CD 中的配置覆盖掉脚本自身的默认配置
  - CD 配置通常基于键值对, 最好支持注释和动态配置
  - 若 CD 中无信息则写入脚本中的默认配置
- 为用户提供各种选项的默认值
  - 默认值通常可以正常用, 有特殊需求用户自己改 CD 中的配置

### 建议的
 
- 为脚本提供尽可能多的运行时控制命令
  - 还包括运行时的脚本参数更改 (切换/设置)
- 脚本启动时应该检查一次脚本参数是否合法
- 脚本初始化时遇到错误直接显示在终端, 脚本不可继续运行
  - 比如说启动时检查到参数错误, 应该停止运行而不是忽略
- 生产环境下脚本运行时的任何异常都应该被捕获, 不允许脚本因异常中止
  - 并将异常信息以日志形式输出到终端
